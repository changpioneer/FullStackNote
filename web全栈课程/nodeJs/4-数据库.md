*  [目录](#0)
    *  [连接数据库](#1)
    *  [查询操作](#2)
    *  [参数传递](#3)
    *  [报错](#4)
    


<h1 id="1">连接数据库</h1>

```js
const mysql = require('mysql');
let cfg = {
    host: 'localhost',
    user: 'kaikeba_admin',
    password: 'admin',
    database: 'kaikeba'
};

module.exports = {
    sqlQuery: function (sql, value, callBack) {
                const conn = mysql.createConnection(cfg);
                conn.connect();
                conn.query(sql, value, callBack);
                conn.end();
            }
};
```
<h1 id="2">查询操作</h1>
```js
conn.query(sql, value, callBack);
```

<h1 id="3">参数传递</h1>
```js
conn.query('select * from user where id=?', 1, callBack);

conn.query('select * from user where name=? and age=?', ['tom', 2], callBack);
```


<h1 id="4">报错</h1>

Client does not support authentication protocol requested by server; consider upgrading MySQL client

[解决方法](https://blog.csdn.net/u013700358/article/details/80306560)：
```
ALTER USER 'root'@'%' IDENTIFIED WITH mysql_native_password BY 'admin';

或者
ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY 'admin';
```

